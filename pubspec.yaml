name: not_zero
publish_to: 'none'

environment:
  sdk: ^3.9.2

workspace:
  - apps/not_zero_app
  - packages/nz_actions_bus
  - packages/nz_boxes
  - packages/nz_common
  - packages/nz_drift
  - packages/nz_flutter_core
  - packages/nz_logger
  - packages/nz_base_models

dev_dependencies:
  melos: ^7.1.1

melos:
  scripts:
    generate:
      exec: dart run build_runner build -d
      orderDependents: true
      packageFilters:
        dependsOn:
          - build_runner
    l10n:
      exec: dart run slang && dart format lib
      packageFilters:
        dependsOn:
          - slang
    fix:
      exec: dart fix --apply .
    upgrade:
      exec: dart pub upgrade --major-versions
      orderDependents: true
    test:
      exec: flutter test
      packageFilters:
        dirExists: test
